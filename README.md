# Тестовое задание ЦФТ Focus Start
## Задача: 
Написать программу сортировки слиянием нескольких файлов.
## Реализация:
Для хранения данных, считываемых из файлов, и для сортировки этих данных я использовал двустороннюю блокирующую очередь вместимостью 2.
В многопоточной среде из каждого файла считываются данные и записываются в очередь два значения (для каждого файла своя очередь).
Эти значения обрабатывает сортировщик:
сравнивает все первые значения в очереди, выбирает необходимое значение, 
сравнивает первое и последнее значения в выбранной очереди (чтобы определить верный ли порядок сортировки в файле), 
берёт из очереди первое значение и записывает его в файл. 
После этого в одной из очередей освобождается место, 
в эту очередь записывается новое значение и всё начинается сначала и продолжается, пока не закончатся строки в файлах.  
  
При неправильном вводе команды для запуска приложения, выводится инструкция (usage).  
При возникновении ошибок, в консоли пишется лог. Обрабатываются ошибки: неверная сортировка входных файлов,
неверный формат численных значений во входных данных, ошибки при чтении входных файлов, 
ошибки при создании выхождного файла и т.д.
## Инструкция
#### Что нужно для запуска:
* [JDK 11](https://www.oracle.com/java/technologies/javase-jdk11-downloads.html)
#### Как пользоваться:
```
usage: java -jar sorter.jar [OPTIONS] out.txt in1.txt in2.txt in(n).txt
    (to sort all input file(-s) and write the result to the output file)

 -a,--ascending    to sort in ascending order. Exclude -d (--descending).
                   Optional. Installed by default
 -d,--descending   to sort in ascending order. Exclude -a (--ascending).
                   Optional
 -h,--help         to print this help message
 -i,--integer      to select integer type. Exclude -s (--string). Required
 -s,--string       to select string type. Exclude -i (--integer). Required
```
#### Пример запуска:
```
java -jar sorter.jar -i -d out.txt in1.txt in2.txt in3.txt

2021-Feb-28 00:22:40.621 [main] INFO  app.MergeSorter - Not all queues have values yet
Sorting completed
```
Запуск приложения sorter.jar с паретрами -i (целочисленные значения в файле) и -d (нисходящий порядок сортировки),
также указаны out.txt - файл в который нужно писать и 
in1.txt, in2.txt и in3.txt - файлы, из которых нужно считывать данные.